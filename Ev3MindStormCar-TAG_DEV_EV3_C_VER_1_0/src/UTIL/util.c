/**
 *  template.c
 *
 *  this is template file.
 */
 #include "ev3api.h"
 
/*****************************************************************************/
/*                                  変数定義                                 */
/*****************************************************************************/


/*****************************************************************************/
/*                                  静的変数                                 */
/*****************************************************************************/


/*****************************************************************************/
/*                                  定数定義                                 */
/*****************************************************************************/


/*****************************************************************************/
/*                                外部変数宣言                               */
/*****************************************************************************/


/*****************************************************************************/
/*                                外部定数定義                               */
/*****************************************************************************/


/*****************************************************************************/
/*                                  外部関数                                 */
/*****************************************************************************/


/*****************************************************************************/
/*                                  関数実装                                 */
/*****************************************************************************/
/**
 *  引数で指定されたバッファを初期化する。
 */
void init_buff(int size, char *buff, char val) {
    int id;

    for (id = 0; id < size; id++) {
        *buff = val;
        buff++;
    }
}

/**
 *  @brief  値のリミット処理を行う。
 *          指定された値が範囲内であれば、その値を返す。
 *          範囲外であれば、上限値あるいは下限値を返す。
 *          上限値と下限値の大小関係が逆転していた場合には、「0」を返す。
 */  
int limit_int(int value, int min, int max) {
    int limited_value = 0;

    if (min < max) {//予期せぬエラー回避のために、大前提を確認する。
        if ((min <= value) && (value <= max)) {
            //範囲内
            limited_value = value;
        } else {
            //範囲外
            if (value < min) {
                limited_value = min;
            } else if (max < value) {
                limited_value = max;
            }
        }
    } else {
        limited_value = 0;
    }

    return limited_value;
}

